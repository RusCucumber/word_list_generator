(this.webpackJsonpmarkingtool=this.webpackJsonpmarkingtool||[]).push([[0],{23:function(e,t,a){},44:function(e,t,a){e.exports=a(80)},78:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),l=a.n(s),i=a(13),c=a(2),o=a(9),u=a(10),m=a(12),d=a(11),p=a(7),h=(a(23),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={inputText:""},e.handleChange=function(t){var a=t.target,n=a.value;a.name;e.props.inputText(n),e.props.history.push("/marker")},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"textFieldContainer"},r.a.createElement("div",{className:"description"},r.a.createElement("h1",{style:{fontSize:"3rem"}},"\u7ffb\u8a33\u5358\u8a9e\u5e33\u30c4\u30fc\u30eb"),r.a.createElement("br",null),r.a.createElement("div",{className:"explanationContainer"},r.a.createElement("div",{className:"explanationIcon"},r.a.createElement("div",{className:"explanationText"},r.a.createElement("span",{style:{background:"#028090",color:"#E4FDE1"}},"this"),r.a.createElement("span",null,"is "),r.a.createElement("span",null,"a "),r.a.createElement("span",null,"tool "),r.a.createElement("span",null,"for "),r.a.createElement("span",{style:{background:"#028090",color:"#E4FDE1"}},"marking "),r.a.createElement("span",null,"and "),r.a.createElement("span",null,"translating "),r.a.createElement("span",{style:{background:"#028090",color:"#E4FDE1"}},"text "),r.a.createElement("span",null,"to "),r.a.createElement("span",null,"make "),r.a.createElement("span",null,"cards "))),r.a.createElement("div",{className:"explanationArrow"},"\u21e8"),r.a.createElement("div",{className:"resultIcon"},r.a.createElement("div",{className:"resultIconBoxOne"},"\u3053\u308c"),r.a.createElement("div",{className:"resultIconBoxTwo"},"this"))),r.a.createElement("br",null),r.a.createElement("h1",{className:"explanationCopyPaste"},"\u307e\u305a\u306f\u3053\u3053\u306b\u6587\u7ae0\u3092\u30b3\u30d4\u30da")),r.a.createElement("form",{action:"",className:"ui inputField"},r.a.createElement("input",{type:"text",name:"inputText",className:"inputTextBox",onChange:this.handleChange,autoComplete:"off"})),r.a.createElement("div",{className:"homeCSV"},r.a.createElement(i.b,{to:"/memcards",className:"homeLink",style:{fontSize:"1.5rem",textAlign:"center",fontWeight:"normal",color:"#588c80"}},"\u304a\u6301\u3061\u306ecsv\u3067\u30b9\u30bf\u30fc\u30c8")))}}]),a}(r.a.Component)),v=Object(p.b)((function(e){return{inputText:e.inputText}}),{inputText:function(e){return{type:"INPUT_TEXT",payload:e}}})(h),f=a(21),E="https://inaba-hackathon.herokuapp.com/api",g={"Content-type":"application/json"},x=a(18),C=a.n(x),N=a(16),S=a.n(N),y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={loading:!1,index:[],sentence:""},e.selectWord=function(t,a){e.state.index.includes(a)?e.setState({index:e.state.index.filter((function(e){return e!==a}))}):e.setState({index:[].concat(Object(f.a)(e.state.index),[a])})},e.textRenderer=function(){return e.state.sentence.split(" ").map((function(t,a){return r.a.createElement("span",{className:"wordWrapper",key:a,onClick:function(){return e.selectWord(t,a)},style:e.state.index.includes(a)?{background:"#028090",color:"#E4FDE1"}:{background:"none"}},t," ")}))},e.handleSubmit=function(t){if(e.state.index.length>0){var a=e.state.sentence.split(" ").filter((function(t,a){return e.state.index.includes(a)}));e.setState({loading:!0}),e.props.saveWords(a);var n=e.state,r=n.sentence,s=n.index;s.sort((function(e,t){return e-t})),C.a.post(E+"/lemmatisation",{sentence:r,index:s,selectedWords:a},g).then((function(t){e.setState({loading:!1}),e.props.saveResults(t.data)}),(function(t){e.props.setError(t.response)})).then((function(){e.props.history.push("/results")}))}},e.handleBack=function(){e.props.history.push("/")},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){""===this.props.inputText?this.props.history.push("/"):this.setState({sentence:this.props.inputText})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(S.a,{size:150,color:"#F45B69",loading:this.state.loading}):r.a.createElement("div",{className:"ui markerField"},r.a.createElement("div",{className:"submitMarker"},r.a.createElement("div",{className:"backBtnContainer"},r.a.createElement("span",{className:"goBackBtn",onClick:this.handleBack},"\u21e6 BACK")),r.a.createElement("div",{className:"submitBtnContainer"},r.a.createElement("span",{className:"submitMarkerText",onClick:this.handleSubmit},"GO \u21e8"))),r.a.createElement("div",{className:"markerFieldText"},this.textRenderer()))}}]),a}(r.a.Component),b=Object(p.b)((function(e){return{inputText:e.inputText}}),{saveResults:function(e){return{type:"SAVE_RESULTS",payload:e}},setError:function(e){return console.log(e),{type:"SET_ERROR",payload:e}},saveWords:function(e){return{type:"SAVE_WORDS",payload:e}}})(y),k=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={results:null,error:null,errorSet:!1,dontShow:[],loading:!1,invalid:!1},e.handleClick=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.state.dontShow.includes(a.id)?e.state.dontShow.includes(a.id)&&e.setState({dontShow:e.state.dontShow.filter((function(e){return e!==a.id}))}):e.setState({dontShow:[].concat(Object(f.a)(e.state.dontShow),[a.id])})},e.handleSubmit=function(){var t=e.state.results.filter((function(t){return!e.state.dontShow.includes(t[2])||0===t[0].length||0===t[1].length}));e.setState({loading:!0});var a=t.map((function(e){return[e[0],e[1]]}));e.props.saveCSV(a),e.setState({loading:!1}),e.props.history.push("/finaloptions")},e.handleChange=function(t,a,n){e.setState({fakeResults:e.state.results.map((function(e,r){return r===t?(e[a]=n.target.value,e):e}))})},e.renderError=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Error: ",e.state.error.status),r.a.createElement("p",null,e.state.error.statusText))},e.renderResults=function(){return e.state.results.map((function(t,a){return r.a.createElement("div",{className:"lemmaList",key:t[2],style:e.state.dontShow.includes(t[2])||0===t[0].length||0===t[1].length?{backgroundColor:"#f5f5f5"}:{display:"grid"}},r.a.createElement("div",{className:"wordResult",style:e.state.dontShow.includes(t[2])||0===t[0].length||0===t[1].length?{textDecoration:"line-through"}:{textDecoration:"none"}},r.a.createElement("input",{className:"txtF originalText",type:"text",value:e.state.results[a][0],onChange:function(t){return e.handleChange(a,0,t)}}),r.a.createElement("input",{className:"txtF translatedText",type:"text",value:e.state.results[a][1],onChange:function(t){return e.handleChange(a,1,t)}})),r.a.createElement("div",{className:"lemmaBtn delete",name:"delete",onClick:function(a){return e.handleClick(a,{id:t[2]})},style:e.state.dontShow.includes(t[2])?{color:"black"}:{color:"#f56f5f"}},e.state.dontShow.includes(t[2])?"UNDO":"DELETE"))}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){null===this.props.results&&null===this.props.errors?this.props.history.push("/"):null===this.props.errors?this.setState({results:this.props.results.word_list}):this.setState({error:this.props.errors,errorSet:!0})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(S.a,{size:150,color:"#F45B69",loading:this.state.loading}):this.state.errorSet?this.renderError():this.state.results?r.a.createElement("div",{className:"ui lemmaContainer"},r.a.createElement("div",{onClick:this.handleSubmit,className:"finalSubmitBtnContainer"},r.a.createElement("span",{className:"finalSubmitBtn"},"GO \u21e8")),r.a.createElement("div",{className:"lemmaListWrapper"},r.a.createElement("div",{className:"lemmaListWrap"},this.renderResults()))):r.a.createElement("div",null,"..")}}]),a}(r.a.Component),w=Object(p.b)((function(e){return{results:e.results,errors:e.errors,words:e.words}}),{saveCSV:function(e){return{type:"SAVE_CSV",payload:e}}})(k),O=a(41),T=a(42),z=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",csvData:[],loading:!1,quizletURL:"",requestingQuizlet:!1,id:"",scheduleID:"",quizletError:!1},e.handleChange=function(t){t.preventDefault();var a=t.target,n=a.name,r=a.value;e.setState(Object(O.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.password,r=a.username,s=a.csvData;console.log("POSTING TO /quizlet",{username:r,password:n,words:s}),e.setState({loading:!0}),C.a.post(E+"/quizlet",{username:r,password:n,words:s},g).then((function(t){console.log("First POST response (Initializes async task and gets ID)",t.data),"OK"===t.data.result?e.setState({requestingQuizlet:!0,id:t.data.id,scheduleID:setInterval(e.requestScheduler,2e3)}):"NG"===t.data.result&&e.setState({loading:!1,quizletError:!0})}),(function(t){clearInterval(e.state.scheduleID),e.setState({loading:!1,requestingQuizlet:!1,id:"",scheduleID:"",quizletError:!0})}))},e.requestScheduler=function(){console.log("Running schedule, waiting for URL");var t=e.state.id;C.a.post(E+"/quizletprogress",{id:t},g).then((function(t){console.log(t.data),"OK"===t.data.result?(""===t.data.url?e.setState({loading:!1,requestingQuizlet:!1,quizletError:!0}):""!==t.data.url&&e.setState({loading:!1,requestingQuizlet:!1,quizletURL:t.data.url}),clearInterval(e.state.scheduleID)):"NG"===t.data.result&&console.log("\u51e6\u7406\u4e2d")}),(function(t){clearInterval(e.state.scheduleID),e.setState({loading:!1,requestingQuizlet:!1,id:"",scheduleID:"",quizletError:!0})}))},e.handleClick=function(){e.props.history.push("/memcards")},e.renderForm=function(){return r.a.createElement("form",{action:"submit",onSubmit:e.handleSubmit},e.state.loading?r.a.createElement("div",{className:"quizletLoad"},r.a.createElement(S.a,{size:200,color:"#F45B69",loading:e.state.loading}),r.a.createElement("div",{className:"processing"},"\u51e6\u7406\u4e2d\u3067\u3059\u300230\u79d2\u307b\u3069\u304b\u304b\u308a\u307e\u3059\u3002")):r.a.createElement("div",{className:"quizletFormContainer"},r.a.createElement("div",null,r.a.createElement("label",{className:"quizletFormText",for:"username"},"Username:"),r.a.createElement("input",{className:"quizletFormTextBox",type:"text",value:e.state.username,name:"username",onChange:e.handleChange,autoComplete:"off"})),r.a.createElement("div",null,r.a.createElement("label",{className:"quizletFormText",for:"pass"},"Password:"),r.a.createElement("input",{className:"quizletFormTextBox",type:"password",required:!0,value:e.state.password,name:"password",onChange:e.handleChange,autoComplete:"off"})),r.a.createElement("input",{className:"quizletFormSubmit",type:"submit",value:"Sign in"}),e.state.quizletError?r.a.createElement("div",{className:"processingError"},"\u3082\u3046\u4e00\u5ea6\u5b9f\u884c\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002"):null))},e.renderURL=function(){return r.a.createElement("div",{className:"quizletURLContainer"},r.a.createElement("a",{href:e.state.quizletURL,target:"_blank",className:"quizletURL"},"quizletCards"))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({csvData:this.props.csvElements})}},{key:"render",value:function(){return this.state.csvData.length>0?r.a.createElement("div",{className:"ui finalOptionsContainer"},r.a.createElement(T.CSVLink,{data:this.state.csvData,className:"csvContainer"},r.a.createElement("div",{className:"csvicon"},r.a.createElement("p",{className:"csvicontextcontainer"},r.a.createElement("span",{className:"csvicontext"},"CSV"))),r.a.createElement("div",{className:"csvDownload"},"Download")),r.a.createElement("div",{className:"memCards",onClick:this.handleClick},r.a.createElement("div",{className:"memCardLogo"},r.a.createElement("div",{className:"memBoxOne"}),r.a.createElement("div",{className:"memBoxTwo"},"\u3053\u306e\u5834\u3067"))),r.a.createElement("div",{className:"quizletContainer"},r.a.createElement("div",{className:"quizletLogo"},r.a.createElement("div",{className:"boxOne"}),r.a.createElement("div",{className:"boxTwo"},"+"),r.a.createElement("div",{className:"quizletText"},"Quizlet")),""!==this.state.quizletURL?this.renderURL():this.renderForm()),r.a.createElement(i.b,{to:"/",className:"homeLink"},"Home")):r.a.createElement("div",null,r.a.createElement(i.b,{to:"/",className:"homeLink"},"Home"))}}]),a}(r.a.Component),D=Object(p.b)((function(e){return{csvElements:e.csvElements}}),null)(z),F=a(43),q=a.n(F),I=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={words:[["hey","\u3088"],["he","\u5f7c"],["she","\u5f7c\u5973"]],currentIndex:0,flip:!1,uploadedFiles:[],currentFile:0,fileUploaded:!1,filenames:[],currentPair:[]},e.handleClick=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("prev"===a){var r=e.state.currentIndex-1<0?e.state.words.length-1:e.state.currentIndex-1;e.setState({currentPair:e.state.words[r],currentIndex:r,flip:!1})}else if("next"===a){var s=e.state.currentIndex+1===e.state.words.length?0:e.state.currentIndex+1;e.setState({currentPair:e.state.words[s],currentIndex:s,flip:!1})}else"flip"===a?e.setState({flip:!e.state.flip}):"selectFile"===a&&e.setState({words:e.state.uploadedFiles[n],currentFile:n,currentPair:e.state.uploadedFiles[n][0],flip:!1,currentIndex:0})},e.handleKey=function(t){if(32===t.keyCode){t.preventDefault();var a=e.state.currentIndex+1===e.state.words.length?0:e.state.currentIndex+1;e.setState({currentPair:e.state.words[a],currentIndex:a,flip:!1})}},e.onFileChange=function(t){for(var a=t.target.files,n=[],r=[],s=0;s<a.length;s++)q.a.parse(a[s],{complete:function(e){n.push(e.data)}}),r.push([a[s].name,s]);e.setState({uploadedFiles:n,currentFile:0,fileUploaded:!0,filenames:r})},e.renderFiles=function(){return e.state.filenames.map((function(t,a){return r.a.createElement("div",{onClick:function(a){return e.handleClick(a,"selectFile",t[1])},className:"fileName",style:e.state.currentFile===a?{backgroundColor:"#e4fde1"}:{}},t[0])}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){0!==this.props.csvData.length&&this.setState({words:this.props.csvData,currentPair:this.props.csvData[0],currentIndex:0}),document.addEventListener("keydown",this.handleKey,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKey,!1)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"memCardsUI",onKeyDown:function(t){return e.handleClick(t,"next")}},r.a.createElement("div",{className:"memCardsContainer"},r.a.createElement("div",{className:"memBtn memCardsOuter"},r.a.createElement("div",{className:this.state.flip?"memCardsTextFront":"memCardsTextBack",onClick:function(t){return e.handleClick(t,"flip")}},this.state.flip?this.state.currentPair[1]:this.state.currentPair[0])),r.a.createElement("div",{className:"memBtn memCardsChange"},r.a.createElement("div",{className:"memBtn memCardsPrev",onClick:function(t){return e.handleClick(t,"prev")}},"prev"),r.a.createElement("div",{className:"memBtn memCardsNext",onClick:function(t){return e.handleClick(t,"next")}},"next"))),r.a.createElement("div",{className:"memCardsUpload"},r.a.createElement("div",{className:"fileUpload"},r.a.createElement(i.b,{to:"/",className:"homeLink",style:{fontSize:"2rem",textAlign:"center"}},"Home"),r.a.createElement("br",null),r.a.createElement("div",{style:{height:"3rem"}}),r.a.createElement("div",{className:"csvCheck"},"\u65e2\u306bcsv\u30d5\u30a1\u30a4\u30eb\u3092\u304a\u6301\u3061\u3067\u3059\u304b\uff1f"),r.a.createElement("br",null),r.a.createElement("input",{type:"file",onChange:this.onFileChange,className:"memCardsUploadBtn",multiple:!0,accept:".csv"}),r.a.createElement("div",{className:"filesContainer"},this.state.fileUploaded?this.renderFiles():null))))}}]),a}(r.a.Component),j=Object(p.b)((function(e){return{csvData:e.csvElements}}),null)(I),R=function(){return r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement("div",{className:"appContainer"},r.a.createElement(c.a,{path:"/",exact:!0,component:v}),r.a.createElement(c.a,{path:"/marker",exact:!0,component:b}),r.a.createElement(c.a,{path:"/results",exact:!0,component:w}),r.a.createElement(c.a,{path:"/finaloptions",exact:!0,component:D}),r.a.createElement(c.a,{path:"/memcards",exact:!0,component:j}))))},B=(a(78),a(15)),L=Object(B.b)({inputText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_TEXT":return t.payload;default:return e}},results:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_RESULTS":return t.payload;default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.payload;default:return e}},words:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_WORDS":return t.payload;default:return e}},csvElements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_CSV":return t.payload;default:return e}}}),U=Object(B.c)(L);l.a.render(r.a.createElement(p.a,{store:U},r.a.createElement(R,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.77382985.chunk.js.map